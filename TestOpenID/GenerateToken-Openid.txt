YOUR_AUTH0_DOMAIN : nicolasampietri.eu.auth0.com
YOUR_CLIENT_ID : 7Jwi6Q0I2gRFwh0DMFY7tw5P4M7iO19J
YOUR_CLIENT_SECRET : -56KbJQ6RFoW2HJT3oY75LN21fptuZ5l9LlKg3lSZO23MDriQJvA_WbOFzrKxk1n
YOUR_API_IDENTIFIER : https://testopenidmicro/api

TEMPLATE
curl --request POST \
  --url 'https://YOUR_AUTH0_DOMAIN/oauth/token' \
  --header 'content-type: application/json' \
  --data '{"grant_type":"client_credentials","client_id": "YOUR_CLIENT_ID","client_secret": "YOUR_CLIENT_SECRET","audience": "YOUR_API_IDENTIFIER"}'

ATTUALIZZAZIONE
curl --request POST --url 'https://nicolasampietri.eu.auth0.com/oauth/token' --header 'content-type: application/json' --data '{"grant_type":"client_credentials","client_id": "7Jwi6Q0I2gRFwh0DMFY7tw5P4M7iO19J","client_secret": "-56KbJQ6RFoW2HJT3oY75LN21fptuZ5l9LlKg3lSZO23MDriQJvA_WbOFzrKxk1n","audience": "https://testopenidmicro/api"}'

RESPONSE
{"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1qWTFOVE0xTkRCQlFqazFNVEE1TkRFME5EQXpOekpFUmpsRU9Ea3dSVU5FTTBWRFJVWTNPQSJ9.eyJpc3MiOiJodHRwczovL25pY29sYXNhbXBpZXRyaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiN0p3aTZRMEkyZ1JGd2gwRE1GWTd0dzVQNE03aU8xOUpAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vdGVzdG9wZW5pZG1pY3JvL2FwaSIsImlhdCI6MTU0OTUzMjk4NiwiZXhwIjoxNTQ5NjE5Mzg2LCJhenAiOiI3SndpNlEwSTJnUkZ3aDBETUZZN3R3NVA0TTdpTzE5SiIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.e19jDZ-dd6cKzgnXC2OWdEWK9fKIpiLmqz91Ahoyl-eDF6c7H9k2-RjlM_EqKjYG7ugatTYF51stSnS8X8IXjrLxKCaduMsiHAPEq-8g7aERby9NobzD91VTFUicgeadN_eRlBAilxuS6A5xqHuXRE5GMQ4dkCbCtycmLefxLWFAp_LphteFmMFrH9mOIvqYZGE0YTxm9Vp1Keg5uUX1-KBLC7R04KSMWK8gcvHtBTplnPpHzb_zmVnMEC2zDvlCYd-w9zksypYeKAr-4zdzHRWFSfRdYogc0gfVTePWKdvhSbz0lFpFQ2X9LAN51fYhBVTYIFbMg8WSpGQIcRZIGA","expires_in":86400,"token_type":"Bearer"}

TEMPLATE ANAUTHORIZED CALL

curl -i --request GET --url http://localhost:32768/api/Openid

RESPOSE
TP/1.1 401 Unauthorized
Date: Thu, 07 Feb 2019 09:58:44 GMT
Server: Kestrel
Content-Length: 0
WWW-Authenticate: Bearer


TEMPLATE AUTHORIZED CALL WITHOUT SCOPE
curl -i --request GET --url http://localhost:32768/api/Openid/getPrivateScope --header 'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1qWTFOVE0xTkRCQlFqazFNVEE1TkRFME5EQXpOekpFUmpsRU9Ea3dSVU5FTTBWRFJVWTNPQSJ9.eyJpc3MiOiJodHRwczovL25pY29sYXNhbXBpZXRyaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiN0p3aTZRMEkyZ1JGd2gwRE1GWTd0dzVQNE03aU8xOUpAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vdGVzdG9wZW5pZG1pY3JvL2FwaSIsImlhdCI6MTU0OTUzNjIwMiwiZXhwIjoxNTQ5NjIyNjAyLCJhenAiOiI3SndpNlEwSTJnUkZ3aDBETUZZN3R3NVA0TTdpTzE5SiIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.D8vEahCO7x1Y2ZhXgnckMgSaUuXbejM5lIbHitYBMZqkScCrD2KZPHGrhhGJ0gR3DrWEbL_fERZclLcvdi1atTBFVWl2dSEhBVRvdcCKBvY12bIbO38VDP43hAWKg6B5d2YNWU4OQLDNMC-siYs9xy6kTHLNUl88N80ZT3sAdNg2Gtiv8qonH4mNsnbuDUxHrb_AsS7q5SfnzdDxJvPGY-FrJqeitj9_cLOJeJxhkdg0wYYNPjWMmbLZpL5E5huPzMmrnggroXLrSeexZ8UEzJ8gAF2msTEH_o1k1kiT-7G5E1vJ9c1UOY9Nvw1HJCkrFS6oVY8BryU8qnLQ_ID14w'
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1qWTFOVE0xTkRCQlFqazFNVEE1TkRFME5EQXpOekpFUmpsRU9Ea3dSVU5FTTBWRFJVWTNPQSJ9.eyJpc3MiOiJodHRwczovL25pY29sYXNhbXBpZXRyaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiN0p3aTZRMEkyZ1JGd2gwRE1GWTd0dzVQNE03aU8xOUpAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vdGVzdG9wZW5pZG1pY3JvL2FwaSIsImlhdCI6MTU0OTUzNjIwMiwiZXhwIjoxNTQ5NjIyNjAyLCJhenAiOiI3SndpNlEwSTJnUkZ3aDBETUZZN3R3NVA0TTdpTzE5SiIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.D8vEahCO7x1Y2ZhXgnckMgSaUuXbejM5lIbHitYBMZqkScCrD2KZPHGrhhGJ0gR3DrWEbL_fERZclLcvdi1atTBFVWl2dSEhBVRvdcCKBvY12bIbO38VDP43hAWKg6B5d2YNWU4OQLDNMC-siYs9xy6kTHLNUl88N80ZT3sAdNg2Gtiv8qonH4mNsnbuDUxHrb_AsS7q5SfnzdDxJvPGY-FrJqeitj9_cLOJeJxhkdg0wYYNPjWMmbLZpL5E5huPzMmrnggroXLrSeexZ8UEzJ8gAF2msTEH_o1k1kiT-7G5E1vJ9c1UOY9Nvw1HJCkrFS6oVY8BryU8qnLQ_ID14w

TEMPLATE WITH SCOPE
curl --request POST \
  --url 'https://YOUR_AUTH0_DOMAIN/oauth/token' \
  --header 'content-type: application/json' \
  --data '{"grant_type":"client_credentials","client_id": "YOUR_CLIENT_ID","client_secret": "YOUR_CLIENT_SECRET","audience": "YOUR_API_IDENTIFIER","scope" : "read:messages"}'


ATTUALIZZAZIONE
curl --request POST --url 'https://nicolasampietri.eu.auth0.com/oauth/token' --header 'content-type: application/json' --data '{"grant_type":"client_credentials","client_id": "7Jwi6Q0I2gRFwh0DMFY7tw5P4M7iO19J","client_secret": "-56KbJQ6RFoW2HJT3oY75LN21fptuZ5l9LlKg3lSZO23MDriQJvA_WbOFzrKxk1n","audience": "https://testopenidmicro/api", "scope" : "read:messages"}'

curl -i --request GET --url http://localhost:32768/api/Openid/getPrivateScope --header 'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1qWTFOVE0xTkRCQlFqazFNVEE1TkRFME5EQXpOekpFUmpsRU9Ea3dSVU5FTTBWRFJVWTNPQSJ9.eyJpc3MiOiJodHRwczovL25pY29sYXNhbXBpZXRyaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiN0p3aTZRMEkyZ1JGd2gwRE1GWTd0dzVQNE03aU8xOUpAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vdGVzdG9wZW5pZG1pY3JvL2FwaSIsImlhdCI6MTU0OTUzNjIwMiwiZXhwIjoxNTQ5NjIyNjAyLCJhenAiOiI3SndpNlEwSTJnUkZ3aDBETUZZN3R3NVA0TTdpTzE5SiIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.D8vEahCO7x1Y2ZhXgnckMgSaUuXbejM5lIbHitYBMZqkScCrD2KZPHGrhhGJ0gR3DrWEbL_fERZclLcvdi1atTBFVWl2dSEhBVRvdcCKBvY12bIbO38VDP43hAWKg6B5d2YNWU4OQLDNMC-siYs9xy6kTHLNUl88N80ZT3sAdNg2Gtiv8qonH4mNsnbuDUxHrb_AsS7q5SfnzdDxJvPGY-FrJqeitj9_cLOJeJxhkdg0wYYNPjWMmbLZpL5E5huPzMmrnggroXLrSeexZ8UEzJ8gAF2msTEH_o1k1kiT-7G5E1vJ9c1UOY9Nvw1HJCkrFS6oVY8BryU8qnLQ_ID14w'

Reponse

eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1qWTFOVE0xTkRCQlFqazFNVEE1TkRFME5EQXpOekpFUmpsRU9Ea3dSVU5FTTBWRFJVWTNPQSJ9.eyJpc3MiOiJodHRwczovL25pY29sYXNhbXBpZXRyaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiN0p3aTZRMEkyZ1JGd2gwRE1GWTd0dzVQNE03aU8xOUpAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vdGVzdG9wZW5pZG1pY3JvL2FwaSIsImlhdCI6MTU0OTU0NTk5NSwiZXhwIjoxNTQ5NjMyMzk1LCJhenAiOiI3SndpNlEwSTJnUkZ3aDBETUZZN3R3NVA0TTdpTzE5SiIsInNjb3BlIjoicmVhZDptZXNzYWdlcyIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.eFhXCznamusiiWPpkkwHGWWI9bXjRBYJsYt9O59aJle7jKcKJKezxi6mk5zTWO91bpRgrTIDBNCM2L8DZ9CB37cfsU2dDW8P1KcbuxEzmNIhKbr6od6xeJx5YSieuGcyYgsXU0mSz0yqCNaEhiRcYyDw1i1VW33rH5qXK8UNbjda2qeoiENdqt3pN_ezm95LFXEsVTS28rXg7pZkq_an485vqqsaq5gN0mPK_GMLaQomrWJgZDAF8O_ZhikAhEI1m6JJHs-4Z5_xarF89aQHHSxkzJsin-0yKZBcHnlBWdYuwlj7aGFmQMNn2gzEXHLX059g0dGhCPb4-k0ejvxHUg

TEMPLATE AUTHORIZED CALL WITH SCOPE
curl -i --request GET --url http://localhost:32768/api/Openid --header 'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1qWTFOVE0xTkRCQlFqazFNVEE1TkRFME5EQXpOekpFUmpsRU9Ea3dSVU5FTTBWRFJVWTNPQSJ9.eyJpc3MiOiJodHRwczovL25pY29sYXNhbXBpZXRyaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiN0p3aTZRMEkyZ1JGd2gwRE1GWTd0dzVQNE03aU8xOUpAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vdGVzdG9wZW5pZG1pY3JvL2FwaSIsImlhdCI6MTU0OTU0NTk5NSwiZXhwIjoxNTQ5NjMyMzk1LCJhenAiOiI3SndpNlEwSTJnUkZ3aDBETUZZN3R3NVA0TTdpTzE5SiIsInNjb3BlIjoicmVhZDptZXNzYWdlcyIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.eFhXCznamusiiWPpkkwHGWWI9bXjRBYJsYt9O59aJle7jKcKJKezxi6mk5zTWO91bpRgrTIDBNCM2L8DZ9CB37cfsU2dDW8P1KcbuxEzmNIhKbr6od6xeJx5YSieuGcyYgsXU0mSz0yqCNaEhiRcYyDw1i1VW33rH5qXK8UNbjda2qeoiENdqt3pN_ezm95LFXEsVTS28rXg7pZkq_an485vqqsaq5gN0mPK_GMLaQomrWJgZDAF8O_ZhikAhEI1m6JJHs-4Z5_xarF89aQHHSxkzJsin-0yKZBcHnlBWdYuwlj7aGFmQMNn2gzEXHLX059g0dGhCPb4-k0ejvxHUg'

Fresh token
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1qWTFOVE0xTkRCQlFqazFNVEE1TkRFME5EQXpOekpFUmpsRU9Ea3dSVU5FTTBWRFJVWTNPQSJ9.eyJpc3MiOiJodHRwczovL25pY29sYXNhbXBpZXRyaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiN0p3aTZRMEkyZ1JGd2gwRE1GWTd0dzVQNE03aU8xOUpAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vdGVzdG9wZW5pZG1pY3JvL2FwaSIsImlhdCI6MTU0OTYzNzA5OCwiZXhwIjoxNTQ5NzIzNDk4LCJhenAiOiI3SndpNlEwSTJnUkZ3aDBETUZZN3R3NVA0TTdpTzE5SiIsInNjb3BlIjoicmVhZDptZXNzYWdlcyIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.lW5eZPcmhL-mo7L1sH_ercwEIjkvii7rZwtT7x2OQeNwIgRazqn1kdchxjGNTReeuQRbby5YQw0k1y1F8v5AR5QNghbe_di8LxHoevc44OojAXtB4Or6esUn9nQbOEjoSPjoogVp3OmWK1qhlgikrkZSF9hTKOsT1t-3UhfYQ4jtxv2s9ZRyaDAMIrYKVDtW6r-y-2c199FliRHdfhkObjW47vbVUbz_JbRnBn5j-6ShaahKjDrfizRz8bTp97MWmLX_iAa8UEV3TIT5iNw8ggiZ-XpCuAjS07dH_ALbuXHaqVhTfXZ4wMBD-rfrktAAAIizGSzuNolifYqMX1cg7g
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1qWTFOVE0xTkRCQlFqazFNVEE1TkRFME5EQXpOekpFUmpsRU9Ea3dSVU5FTTBWRFJVWTNPQSJ9.eyJpc3MiOiJodHRwczovL25pY29sYXNhbXBpZXRyaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiN0p3aTZRMEkyZ1JGd2gwRE1GWTd0dzVQNE03aU8xOUpAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vdGVzdG9wZW5pZG1pY3JvL2FwaSIsImlhdCI6MTU0OTY0MzAxOSwiZXhwIjoxNTQ5NzI5NDE5LCJhenAiOiI3SndpNlEwSTJnUkZ3aDBETUZZN3R3NVA0TTdpTzE5SiIsInNjb3BlIjoicmVhZDptZXNzYWdlcyIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.YmvBHynSkJWrlGlXN44QVdEd4uItBPOqSt4sUnXB-IPl7J8PooCoLTnwdu09nApbMzlwl2Z6SCoF7pSczNf2qc1l2CApCdg7nWdXOf0eB3IJ3EvjijYIUufT4NE9P0_om5JO43uGZeoPQQY9UtRyYJ0Zk6OivkBxw_tskIzrQ3UcDXtPY3Ib6K7WOWGzXF2CyE2edTDOWbs2JiPC8StCoyPhlSncwzznbFhjbKCr2ORKiprQbl5HgD95LdbTZ06tJ58tRlu8jc68gMaNgaB6yZBxZU7HxJympAN27kQmUy9WsUImuEdqnVo28Zf1W8pw43exIWdY0HD7Dz-yDQq9ow